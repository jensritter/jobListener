<?xml version="1.0" encoding="UTF-8"?>

<configuration debug="false">

    <property name="APP_NAME" value="jobListener"/>

    <!-- LOG_PATH kommt von spring -->

    <!--  Langes Logfile @ $HOME -->
    <appender name="RootFileAppender" class="ch.qos.logback.core.rolling.RollingFileAppender">

        <!--  Location of Logfile  -->
        <!--  <file>${user.home}/${APP_NAME}.txt</file>  -->
        <!--  current path  -->
        <file>${LOG_PATH}/${APP_NAME}.txt</file>

        <append>true</append>
        <!--
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>debug</level>
        </filter>
         -->

        <rollingPolicy class="ch.qos.logback.core.rolling.FixedWindowRollingPolicy">
            <fileNamePattern>${APP_NAME}.%i.txt</fileNamePattern>
            <maxIndex>5</maxIndex>
        </rollingPolicy>

        <triggeringPolicy class="ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy">
            <maxFileSize>200000</maxFileSize>
        </triggeringPolicy>

        <encoder>
            <pattern>%date{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger\(%line\)%marker %msg%n</pattern>
        </encoder>
    </appender>

    <!--  VerkÃ¼rztze Darstellung. Nur Uhrzeit und LoggerNamen -->
    <appender name="RootConsoleAppender" class="ch.qos.logback.core.ConsoleAppender">
        <!--
        <filter class="ch.qos.logback.classic.filter.ThresholdFilter">
            <level>debug</level>
        </filter>
        -->
        <encoder>
            <pattern>%date{HH:mm:ss} [%thread] %-5level %logger{80}\(%line\)%marker %msg%n</pattern>
        </encoder>

    </appender>

    <turboFilter class="ch.qos.logback.classic.turbo.MarkerFilter">
        <Marker>SQL</Marker>
        <OnMatch>DENY</OnMatch>
        <!--  ACCEPT|DENY -->
    </turboFilter>


    <logger name="org.springframework" level="WARN"/>
    <logger name="org.crsh" level="WARN"/>
    <logger name="com.mangofactory.swagger" level="WARN"/>
    <logger name="org.eclipse.jetty" level="WARN"/>
    <logger name="org.eclipse.jetty.util" level="WARN"/>
    <logger name="org.apache.sshd" level="WARN"/>

    <logger name="org.jens.shorthand" level="WARN"/>

    <root>
        <level value="INFO"/>
        <appender-ref ref="RootFileAppender"/>
        <appender-ref ref="RootConsoleAppender"/>
    </root>

</configuration>
